<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type"><title>Rivet Apache Directives</title><meta name="generator" content="DocBook XSL Stylesheets V1.50.0"><link rel="home" href="index.html" title="Apache Rivet"><link rel="up" href="index.html" title="Apache Rivet"><link rel="previous" href="installation.html" title="Apache Rivet Installation"><link rel="next" href="commands.html" title="Rivet Tcl Commands and Variables"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Rivet Apache Directives</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="installation.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="commands.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><hr><h2 class="title" style="clear: both"><a name="directives"></a>Rivet Apache Directives</h2></div></div><p style="width:90%">
      These directives are used within the Apache httpd server
      configuration files to modify Apache Rivet's behaviour.
    </p><div class="variablelist"><dl><dt><span class="term">
	  <div class="cmdsynopsis" style="width:80%"><span style="background:#bbbbff ; margin:1ex ; padding:.4ex ;  word-spacing:1ex "><span style="font-weight:bold ; font-family:monospace">RivetServerConf</span>  (<span style="font-family:monospace; text-decoration:underline">CacheSize</span> | <span style="font-family:monospace; text-decoration:underline">GlobalInitScript</span> | <span style="font-family:monospace; text-decoration:underline">ChildInitScript</span> | <span style="font-family:monospace; text-decoration:underline">ChildExitScript</span> | <span style="font-family:monospace; text-decoration:underline">BeforeScript</span> | <span style="font-family:monospace; text-decoration:underline">AfterScript</span> | <span style="font-family:monospace; text-decoration:underline">ErrorScript</span> | <span style="font-family:monospace; text-decoration:underline">UploadDirectory</span> | <span style="font-family:monospace; text-decoration:underline">UploadMaxSize</span> | <span style="font-family:monospace; text-decoration:underline">UploadFilesToVar</span> | <span style="font-family:monospace; text-decoration:underline">SeperateVirtualInterps</span>)</span></div>
	</span></dt><dd><div style="padding:4 ; margin-top:3 ;  margin-bottom:3 ; width:75%"><div style=" margin:1ex ; margin-bottom:1.5ex ; padding .5ex"><span style="font-family:monospace"><b>RivetServerConf</b></span> specifies a global
	    option that is valid for the whole server.
	  </div><div class="variablelist"><dl><dt><span class="term">
		<div class="cmdsynopsis" style="width:80%"><span style="background:#bbbbff ; margin:1ex ; padding:.4ex ;  word-spacing:1ex "><span style="font-family:monospace; text-decoration:underline">CacheSize</span> <span style="font-family:monospace; text-decoration:underline"><i><tt>size</tt></i></span></span></div>
	      </span></dt><dd><div style="padding:4 ; margin-top:3 ;  margin-bottom:3 ; width:75%"><div style=" margin:1ex ; margin-bottom:1.5ex ; padding .5ex">
		  Sets the size of the internal page cache, where
		  <tt><span style="text-decoration:underline"><i><tt>size</tt></i></span></tt> is
		  the number of byte-compiled pages to be cached for
		  future use.  Default is
		  <span style="font-family:monospace"><b>MaxRequestsPerChild</b></span> / 5, or 50,
		  if <span style="font-family:monospace"><b>MaxRequestsPerChild</b></span> is 0.
		</div></div></dd><dt><span class="term">
		<div class="cmdsynopsis" style="width:80%"><span style="background:#bbbbff ; margin:1ex ; padding:.4ex ;  word-spacing:1ex "><span style="font-family:monospace; text-decoration:underline">GlobalInitScript</span> <span style="font-family:monospace; text-decoration:underline"><i><tt>script</tt></i></span></span></div>
	      </span></dt><dd><div style="padding:4 ; margin-top:3 ;  margin-bottom:3 ; width:75%"><div style=" margin:1ex ; margin-bottom:1.5ex ; padding .5ex">
		  Tcl script that is run when each interpreter is
		  initialized. <i><tt><tt><span style="text-decoration:underline">script</span></tt></tt></i>
		  is an actual Tcl script, so to run a file, you would
		  do:

		  <pre style="background:#bbffbb ; width:90ex ; margin: 2ex ;      padding: 1ex; border: solid black 1px ; white-space: pre;      font-family:monospace ; " class="programlisting">Rivet_Script GlobalInitScript &quot;source /var/www/foobar.tcl&quot;</pre>
		</div></div></dd><dt><span class="term">
		<div class="cmdsynopsis" style="width:80%"><span style="background:#bbbbff ; margin:1ex ; padding:.4ex ;  word-spacing:1ex "><span style="font-family:monospace; text-decoration:underline">ChildInitScript</span> <span style="font-family:monospace; text-decoration:underline"><i><tt>script</tt></i></span></span></div>
	      </span></dt><dd><div style="padding:4 ; margin-top:3 ;  margin-bottom:3 ; width:75%"><div style=" margin:1ex ; margin-bottom:1.5ex ; padding .5ex">
		  Script to be evaluated when each Apache child
		  process is initialized.  This is the recommended
		  place to load modules, create global variables, open
		  connections to other facilities (such as databases)
		  and so on.
		</div></div></dd><dt><span class="term">
		<div class="cmdsynopsis" style="width:80%"><span style="background:#bbbbff ; margin:1ex ; padding:.4ex ;  word-spacing:1ex "><span style="font-family:monospace; text-decoration:underline">ChildExitScript</span> <span style="font-family:monospace; text-decoration:underline"><i><tt>script</tt></i></span></span></div>
	      </span></dt><dd><div style="padding:4 ; margin-top:3 ;  margin-bottom:3 ; width:75%"><div style=" margin:1ex ; margin-bottom:1.5ex ; padding .5ex">
		  Script to be evaluated when each Apache child
		  process exits.  This is the logical place to clean
		  up resources created in
		  <tt><span style="text-decoration:underline">ChildInitScript</span></tt>.
		</div></div></dd><dt><span class="term">
		<div class="cmdsynopsis" style="width:80%"><span style="background:#bbbbff ; margin:1ex ; padding:.4ex ;  word-spacing:1ex "><span style="font-family:monospace; text-decoration:underline">BeforeScript</span> <span style="font-family:monospace; text-decoration:underline"><i><tt>script</tt></i></span></span></div>
	      </span></dt><dd><div style="padding:4 ; margin-top:3 ;  margin-bottom:3 ; width:75%"><div style=" margin:1ex ; margin-bottom:1.5ex ; padding .5ex">
		  Script to be evaluated before each server parsed
		  (.rvt) page.  This can be used to create a standard
		  header, for instance.  It could also be used to load
		  code that you need for every page, if you don't want
		  to put it in a <tt><span style="text-decoration:underline">GlobalInitScript</span></tt>
		  <tt><span style="text-decoration:underline">ChildInitScript</span></tt> when you are first
		  developing a web site.
		  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
		    This code is evaluated at the global level, not
		    inside the request namespace where pages are
		    evaluated.
		  </div>
		</div></div></dd><dt><span class="term">
		<div class="cmdsynopsis" style="width:80%"><span style="background:#bbbbff ; margin:1ex ; padding:.4ex ;  word-spacing:1ex "><span style="font-family:monospace; text-decoration:underline">AfterScript</span> <span style="font-family:monospace; text-decoration:underline"><i><tt>script</tt></i></span></span></div>
	      </span></dt><dd><div style="padding:4 ; margin-top:3 ;  margin-bottom:3 ; width:75%"><div style=" margin:1ex ; margin-bottom:1.5ex ; padding .5ex">
		  Script to be called after each server parsed (.rvt) page.
		</div></div></dd><dt><span class="term">
		<div class="cmdsynopsis" style="width:80%"><span style="background:#bbbbff ; margin:1ex ; padding:.4ex ;  word-spacing:1ex "><span style="font-family:monospace; text-decoration:underline">ErrorScript</span> <span style="font-family:monospace; text-decoration:underline"><i><tt>script</tt></i></span></span></div>
	      </span></dt><dd><div style="padding:4 ; margin-top:3 ;  margin-bottom:3 ; width:75%"><div style=" margin:1ex ; margin-bottom:1.5ex ; padding .5ex">
		  When Rivet encounters an error in a script, it
		  constructs an HTML page with some information about
		  the error, and the script that was being
		  evaluated. If an <tt><span style="text-decoration:underline">ErrorScript</span></tt> is
		  specified, it is possible to create custom error
		  pages.  This may be useful if you want to make sure
		  that users never view your source code.
		</div></div></dd><dt><span class="term">
		<div class="cmdsynopsis" style="width:80%"><span style="background:#bbbbff ; margin:1ex ; padding:.4ex ;  word-spacing:1ex "><span style="font-family:monospace; text-decoration:underline">UploadDirectory</span> <span style="font-family:monospace; text-decoration:underline"><i><tt>directory</tt></i></span></span></div>
	      </span></dt><dd><div style="padding:4 ; margin-top:3 ;  margin-bottom:3 ; width:75%"><div style=" margin:1ex ; margin-bottom:1.5ex ; padding .5ex">Directory to place uploaded files.</div></div></dd><dt><span class="term">
		<div class="cmdsynopsis" style="width:80%"><span style="background:#bbbbff ; margin:1ex ; padding:.4ex ;  word-spacing:1ex "><span style="font-family:monospace; text-decoration:underline">UploadMaxSize</span> <span style="font-family:monospace; text-decoration:underline"><i><tt>size</tt></i></span></span></div>
	      </span></dt><dd><div style="padding:4 ; margin-top:3 ;  margin-bottom:3 ; width:75%"><div style=" margin:1ex ; margin-bottom:1.5ex ; padding .5ex">Maximum size for uploaded files.</div></div></dd><dt><span class="term">
		<div class="cmdsynopsis" style="width:80%"><span style="background:#bbbbff ; margin:1ex ; padding:.4ex ;  word-spacing:1ex "><span style="font-family:monospace; text-decoration:underline">UploadFilesToVar</span> (<span style="font-family:monospace; text-decoration:underline">yes</span> | <span style="font-family:monospace; text-decoration:underline">no</span>)</span></div>
	      </span></dt><dd><div style="padding:4 ; margin-top:3 ;  margin-bottom:3 ; width:75%"><div style=" margin:1ex ; margin-bottom:1.5ex ; padding .5ex">
		  This option controls whether it is possible to
		  upload files to a Tcl variable.  If you have a size
		  limit, and don't have to deal with large files, this
		  might be more convenient than sending the data to a
		  file on disk.
		</div></div></dd><dt><span class="term">
		<div class="cmdsynopsis" style="width:80%"><span style="background:#bbbbff ; margin:1ex ; padding:.4ex ;  word-spacing:1ex "><span style="font-family:monospace; text-decoration:underline">SeperateVirtualInterps</span> (<span style="font-family:monospace; text-decoration:underline">yes</span> | <span style="font-family:monospace; text-decoration:underline">no</span>)</span></div>
	      </span></dt><dd><div style="padding:4 ; margin-top:3 ;  margin-bottom:3 ; width:75%"><div style=" margin:1ex ; margin-bottom:1.5ex ; padding .5ex">
		  If on, Rivet will create a seperate Tcl interpreter
		  for each Apache virtual host.  This is useful in an
		  ISP type situation where it is desirable to seperate
		  clients into seperate interpreters, so that they
		  don't accidentally interfere with one another.
		</div></div></dd></dl></div></div></dd><dt><span class="term">
	  <div class="cmdsynopsis" style="width:80%"><span style="background:#bbbbff ; margin:1ex ; padding:.4ex ;  word-spacing:1ex "><span style="font-weight:bold ; font-family:monospace">RivetDirConf</span>  (<span style="font-family:monospace; text-decoration:underline">BeforeScript</span> | <span style="font-family:monospace; text-decoration:underline">AfterScript</span> | <span style="font-family:monospace; text-decoration:underline">ErrorScript</span> | <span style="font-family:monospace; text-decoration:underline">UploadDirectory</span>)</span></div>
	</span></dt><dd><div style="padding:4 ; margin-top:3 ;  margin-bottom:3 ; width:75%"><div style=" margin:1ex ; margin-bottom:1.5ex ; padding .5ex">
	    These options are the same as for
	    <span style="font-family:monospace"><b>RivetServerConf</b></span>, except that they are
	    only valid for the directory where they are specified, and
	    its subdirectories.  It may be specified in
	    <span style="font-family:monospace"><b>Directory</b></span> sections, as well as in
	    <tt>.htaccess</tt> files.
	  </div></div></dd><dt><span class="term">
	  <div class="cmdsynopsis" style="width:80%"><span style="background:#bbbbff ; margin:1ex ; padding:.4ex ;  word-spacing:1ex "><span style="font-weight:bold ; font-family:monospace">RivetUserConf</span>  (<span style="font-family:monospace; text-decoration:underline">BeforeScript</span> | <span style="font-family:monospace; text-decoration:underline">AfterScript</span> | <span style="font-family:monospace; text-decoration:underline">ErrorScript</span> | <span style="font-family:monospace; text-decoration:underline">UploadDirectory</span>)</span></div>
	</span></dt><dd><div style="padding:4 ; margin-top:3 ;  margin-bottom:3 ; width:75%"><div style=" margin:1ex ; margin-bottom:1.5ex ; padding .5ex">
	    These options are the same as for
	    <span style="font-family:monospace"><b>RivetServerConf</b></span>, except that they are
	    only valid for the directory where they are specified, and
	    its subdirectories.
	  </div></div></dd></dl></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="installation.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="commands.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Apache Rivet Installation </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Rivet Tcl Commands and Variables</td></tr></table></div></body></html>
